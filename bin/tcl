#!/usr/bin/env bash
# Select line from terminal output in tmux pane and send it to clipboard
# tcl = "tmux copy line"
# fzf -m allows using tab to select multiple entries with fzf
# the sed omits e.g. (venv), ➜ and directory from the line copy - leaving the command only

selection=$(tmux capture-pane -p | fzf -m --bind "ctrl-space:jump")
[ -n "$selection" ] && printf "$selection" | sed -E 's/^.*➜[[:space:]]+([^[:space:]]+)[[:space:]]+(.*)$/\2/' | xsel --clipboard --input
